<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
	<meta charset="UTF-8">
	<title>Testimonio</title>
	<link rel="stylesheet" th:href="@{/css/estilos.css}">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body >
 	<header th:replace="~{/layouts/header :: header}"></header>
 	
 	<div class="container">
		<h2 class="text-center m-3 my-4">Testimonios de otros usuarios</h2>
		
	
	<div class="row justify-content-center mb-4">
	<div class="card col-12 col-md-6  text-center">
		<ul th:each="testimonio : ${testimonioLista}" class="list-unstyled ms-3">	
			<li class="d-flex">
			<img src="../images/usuario.png"
				class="img-responsive img-rounded mt-1"
				style="max-height: 25px; max-width: 25px;">
			<p class="fs-5 ms-3"
					th:text="'Autor: ' + ${testimonio.usuario.nombre} + ' ' + ${testimonio.usuario.apellido} "></p>
			</li>
			<li><p th:text="${testimonio.comentario}" class="text-center"></p></li>
			</ul>
	</div>
	</div>

	
<h4 class="text-center mb-3">¿Deseas ingresar tu testimonio?  ¡Ingresa con tu id de usuario!</h4>
	<form th:action="@{/testimonios/guardar}" method="POST" class="text-center mb-5">
		<div class="row justify-content-center">
			<div class="col-12 col-md-6">
			 <div class="form-group">
				<label for="id" class="mb-2">Ingrese su id:</label> <input
					type="number" id="id" name="id" onchange="actualizarId()" value=0 class="form-control">
				<div th:if="${error}" class="alert alert-danger">
					<p th:text="${error}"></p>
				</div>
				</div>
			</div>
		</div>
		
		
		<div class="row justify-content-center">
			<div class="col-12 col-md-6">
			 <div class="form-group">
				<label for="comentario" class="m-2">Ingrese su testimonio:</label>
				<textarea id="comentario" name="comentario"
					placeholder="Ingrese su testimonio" class="form-control"></textarea>
				<p class="fs-4" th:text="${invalid}"></p>
			</div>
			</div>
		
		</div>
		
		 <div class="row justify-content-center mt-3">
        	<div class="col-12 col-md-6">
		<input type="submit" class="2 btn" style="background-color: #45BFA9; color: white; outline: none;" value="Guardar testimonio">
		</div>
		</div>
	
	
	</form>
</div>




	<footer th:replace="~{layouts/footer :: footer}"></footer>
	

 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
        function actualizarId() {
            var precioInput = document.getElementById('id');
            if (precioInput.value.trim() === '') {
                precioInput.value = '0';
            }
        }
    </script>
</body>

</html>